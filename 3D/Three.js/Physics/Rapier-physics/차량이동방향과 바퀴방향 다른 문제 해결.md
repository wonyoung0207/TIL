# 차량이동방향과 바퀴방향 다른 문제 해결

## 문제 발생

- 차량 wheel 에 힘을 가했을 때 `wheels.engineForce += wheels.engineForceMax` 차량이 앞으로 움직이는게 아니라 바퀴 방향과 수직으로 움직이는 문제가 발생했다. 

##### 문제점

- **`axleCs: { x: 1, y: 0, z: 0 }`로 설정하면 `engineForce`는 “차량의 오른쪽 방향”으로 작용한다.**
- 전진이 아니라 **옆으로 미끄러지듯 이동함**

------

## 핵심 원리

- 물리 엔진에서 engineForce는 axleCs.forward 방향으로만 작용

- 그리고 대부분 엔진에서 axleCs.forward = (x, y, z) 로 정의한 방향

- 나의 경우엔 다음과 같았다. 

  ```js
  // 바퀴 회전축의 방향 (x축 기준 회전) -> 이렇게 하면 안됨 (x축으로 힘이 가해져서 )
  axleCs: { x: 1, y: 0, z: 0 },       
  
  // 힘 가한경우 
  if (keys.forward) wheels.engineForce += wheels.engineForceMax
  ```

------

## axleCs 축에 따른 차이점 

### case 1

```
axleCs = { x: 0, y: 0, z: 1 }
```

의미:

- 차량의 **앞 = 로컬 Z축**
- engineForce → Z 방향
- 우리가 기대하는 **정상적인 전진**

```
      ↑ 전진
      |
차량  ●
```

------

### ❌ case 2

```
axleCs = { x: 1, y: 0, z: 0 }
```

의미:

- 차량의 **앞 = 로컬 X축**
- engineForce → X 방향
- 하지만 대부분 차량 모델은:
  - Z축이 앞
  - X축이 좌/우

👉 결과:

```
차량
↑
|
● → → →  (engineForce)
```

즉 **차량이 바라보는 방향과 무관하게 옆으로 힘이 가해짐**