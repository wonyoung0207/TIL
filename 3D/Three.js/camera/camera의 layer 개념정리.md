## 1. `Layers` 객체란?

- `camera.layers` 는 `THREE.Layers` 클래스의 인스턴스.
- 내부적으로는 **비트마스크(최대 32비트 → 0~31번 레이어)** 로 어떤 레이어가 활성화돼 있는지 관리.
- 카메라뿐 아니라 오브젝트(`mesh.layers`)도 가지고 있음.

## 2. 동작 방식

1. 모든 `Object3D` 는 기본적으로 **레이어 0** 에 속함.

   ```js
   mesh.layers.enable(0) // 기본값
   ```

2. 카메라는 기본적으로 **레이어 0만 렌더링**.

   ```js
   camera.layers.enable(0)
   ```

3. 카메라와 오브젝트의 레이어가 일치해야 그 오브젝트가 렌더링됨.

   - 예: 오브젝트가 레이어 1에만 있고 카메라가 0번만 켜져 있으면 → 안 보임.

## 3. 주요 메서드

```js
// 특정 레이어 활성화
camera.layers.enable(1)

// 특정 레이어 비활성화
camera.layers.disable(0)

// 현재 레이어 전부 비우고, 특정 레이어만 활성화
camera.layers.set(2)

// 카메라가 여러 레이어를 동시에 보게 하기
camera.layers.enable(0)
camera.layers.enable(1)
```

## 4. 활용 예시

- **UI / HUD** : 캐릭터는 레이어 0, HUD/미니맵은 레이어 1. 카메라 A는 0번만, 카메라 B는 1번만 렌더 → 합성.
- **특수 효과** : 특정 오브젝트만 포스트 프로세싱하거나 outline 효과 줄 때 해당 레이어만 선택.
- **멀티 카메라** : 한 씬에 여러 카메라 두고 서로 다른 레이어만 보는 식으로 분리.

## 5. 정리

- `camera.layers` 는 “이 카메라가 어떤 오브젝트들을 볼지”를 제어하는 **비트마스크 기반 필터 객체**이다. 
- 오브젝트와 카메라가 **같은 레이어**를 공유해야 보인다.
- 최대 32개의 레이어를 쓸 수 있다.
- HUD, 멀티카메라, 특수효과 구현에 유용하다.