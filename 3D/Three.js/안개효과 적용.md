# 안개효과 Fog 정리

---

## Fog 종류

##### 1. `THREE.Fog` (선형 Fog)

- **카메라로부터의 거리**에 따라 선형적으로 색이 섞임.
- 가까운 오브젝트는 원래 색, 멀리 갈수록 지정한 색에 물듦.

```js
// Fog(color, near, far)
scene.fog = new THREE.Fog(0xaaaaaa, 10, 50)
```

- `color`: 안개 색상
- `near`: 카메라 거리에서 fog 시작
- `far`: 카메라 거리에서 fog 완전히 덮임
- 배경이 멀어질수록 서서히 사라지는 느낌.

##### 2. `THREE.FogExp2` (지수적 Fog)

- 거리의 제곱에 따라 안개가 **지수 함수적으로** 진해짐.
- 훨씬 자연스러운 “짙은 안개/연무” 느낌.

```js
// FogExp2(color, density)
scene.fog = new THREE.FogExp2(0xaaaaaa, 0.05)
```

- `density`: 안개 농도 (0.01 ~ 0.1 정도가 흔함)
- 거리와 상관없이 카메라 주변 전역적으로 부드러운 안개.
-  판타지/심한 연무 연출에 적합.

## Fog 적용 방법

- **Scene 단위**로 적용 (`scene.fog = ...`)
- `MeshStandardMaterial`, `MeshLambertMaterial`, `MeshPhongMaterial` 등 대부분의 라이팅 기반 material은 자동으로 Fog 적용됨.
- 단, `MeshBasicMaterial`(조명 영향 없는 재질)에는 안개 안 보임.

## Fog + 배경색 맞추기

안개와 배경(`renderer.setClearColor`) 색상을 비슷하게 맞추면 훨씬 자연스러움.

```js
const fogColor = 0xccddff
scene.background = new THREE.Color(fogColor)
scene.fog = new THREE.FogExp2(fogColor, 0.02)
```

## Fog 제어 (dat.GUI 예시)

```js
const params = { density: 0.02 }
gui.add(params, 'density', 0, 0.1).onChange(v => {
  (scene.fog as THREE.FogExp2).density = v
})
```

##  요약

- `Fog(color, near, far)` : 선형 Fog → 게임/도시 배경, 멀리 갈수록 희미.
- `FogExp2(color, density)` : 지수 Fog → 판타지/연무, 부드럽고 자연스러움.
- 적용은 `scene.fog = ...`
- **배경색과 Fog 색을 맞추면 자연스럽다.**