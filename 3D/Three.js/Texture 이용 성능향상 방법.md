

## 성능 향상 우선순위 

| 우선순위 | 최적화 전략                                           |
| -------- | ----------------------------------------------------- |
| ⭐️⭐️⭐️      | 텍스처 크기를 2의 제곱수로, mipmaps 활성화, 파일 크기 |
| ⭐️⭐️       | 압축 포맷 사용 (KTX2 등), 적절한 필터링               |
| ⭐️        | 반복 제한, wrap 최소화, 애니메이션 최소화             |

## 성능 향상을 위한 Texture 최적화 리스트

| 카테고리        | 최적화 항목                                        | 설명                                                         |
| --------------- | -------------------------------------------------- | ------------------------------------------------------------ |
| 🎨 텍스처 크기   | `2의 제곱 크기` 사용                               | 예: 512×512, 1024×1024. → GPU가 밉맵, 압축, 샘플링에 최적화됨 |
| 🪞 밉맵(Mipmap)  | `generateMipmaps = true` + 적절한 `minFilter` 설정 | 축소 시 밉맵 사용 → 성능 + 품질 향상                         |
| 🧵 필터링        | `minFilter`, `magFilter` 최적 설정                 | `LinearFilter`, `NearestFilter`, `LinearMipMapLinearFilter` 등 상황에 맞게 선택 |
| 🧾 압축 텍스처   | KTX2 / Basis / DDS 등 사용                         | **압축 텍스처 포맷** 사용 시 VRAM 사용량 ↓ 로딩 속도 ↑       |
| 🚫 반복 제한     | `repeat.set(1, 1)` 최소화                          | 반복 횟수가 많으면 GPU 부하 증가, 꼭 필요한 경우에만 사용    |
| 🧭 wrap 설정     | `wrapS`, `wrapT` 최소화                            | `ClampToEdgeWrapping`이 가장 가볍고 기본값 (불필요한 `RepeatWrapping` 피하기) |
| 🔁 애니메이션    | `offset`, `rotation` 사용 최소화                   | 텍스처 스크롤/회전 애니메이션은 매 프레임 UV 업데이트 발생 (부하 ↑) |
| 🌈 colorSpace    | `texture.colorSpace = SRGBColorSpace`              | 물리 기반 렌더링(PBR) 시 정확한 색 표현, 색 보정 필요 시만 사용 |
| 📦 텍스처 수     | 텍스처 개수 최소화                                 | 너무 많은 텍스처를 동시에 로딩/사용하면 GPU 메모리/버스 대역폭 낭비 |
| 🧼 알파채널 제거 | 불필요한 알파 채널 제거                            | JPG로 대체 가능하면 PNG 대신 사용 (메모리 + 디코딩 부하 ↓)   |
| 🖼 이미지 포맷   | WebP, JPEG 사용 고려                               | PNG보다 메모리 효율 + 로딩 속도 ↑                            |
| 🔄 텍스처 재사용 | 동일 이미지 → 텍스처 인스턴스 재사용               | 같은 이미지로 여러 텍스처 만들지 말고 **재사용**할 것        |

## 최적화 설정 예시

```js
const texture = textureLoader.load('diffuse.jpg')

texture.colorSpace = THREE.SRGBColorSpace
texture.wrapS = THREE.ClampToEdgeWrapping
texture.wrapT = THREE.ClampToEdgeWrapping

texture.generateMipmaps = true
texture.minFilter = THREE.LinearMipMapLinearFilter
texture.magFilter = THREE.LinearFilter
```





## 성능과 파일 크기 

| 포맷        | 용도 추천                        | 특징        | 장점                 | 단점                        |
| ----------- | -------------------------------- | ----------- | -------------------- | --------------------------- |
| **JPG**     | 배경 텍스처, 사진 등             | 손실 압축   | 파일 작음, 빠름      | 알파채널 없음, 약간 뭉개짐  |
| **PNG**     | 아이콘, UI, 투명도 있는 텍스처   | 무손실 압축 | 투명 지원, 선명함    | 파일 큼, 로딩 느림          |
| **TinyPNG** | PNG 최적화 버전                  | 손실 압축   | 파일 작음, 투명 지원 | 약간의 품질 저하            |
| **WebP**    | 최신 브라우저용, 전체적으로 우수 | 손실+무손실 | JPG+PNG보다 작음     | 일부 레거시 브라우저 미지원 |

1. 로딩 속도 측면에서는 "중요하다"
   - 파일이 작을수록 **다운로드 속도 빠름**
   - 초기 로딩 시간이 짧아짐
2. GPU 렌더링 성능(VRAM)에서는 "압축된 파일 크기보다 텍스처 해상도가 더 중요"

| 항목                     | 영향 여부                  |
| ------------------------ | -------------------------- |
| 이미지 파일 크기 (kb/mb) | 로딩 속도에 영향           |
| 해상도 (픽셀 수)         | VRAM 사용량에 직접 영향    |
| 압축 포맷 (JPG/PNG)      | CPU/GPU 디코딩 속도에 영향 |

##  예시 비교

- 요점: **"용량이 작아도 해상도가 크면 GPU 메모리는 많이 쓴다!"**

| 이미지           | 크기   | 로딩 속도 | 디코딩 속도 | GPU 메모리                   |
| ---------------- | ------ | --------- | ----------- | ---------------------------- |
| `brick.jpg`      | 100 KB | 빠름      | 빠름        | 높음 (1024x1024 해상도 기준) |
| `brick.png`      | 500 KB | 느림      | 약간 느림   | 동일                         |
| `brick_tiny.png` | 120 KB | 빠름      | 중간        | 동일                         |

## 실무 적용 가이드

| 목적                                     | 추천 포맷               | 비고                                  |
| ---------------------------------------- | ----------------------- | ------------------------------------- |
| 배경, 나무, 돌 텍스처 등 **사진 기반**   | `JPG`                   | 용량 ↓, 품질 큰 차이 없음             |
| 로고, 투명 UI, 아이콘 등 **투명도 필요** | `TinyPNG`               | 품질 유지하며 용량 ↓                  |
| 완전 정교한 그래픽 품질 필요             | `PNG` (원본 유지)       | 필요시만 사용                         |
| 전체 퍼포먼스 최적화                     | `WebP`, `Basis`, `KTX2` | 압축 포맷 전환 필요 (추가 라이브러리) |

