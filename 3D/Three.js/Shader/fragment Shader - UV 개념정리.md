# fragment Shader - UV 개념정리

---

>

## Shader에서의 UV 좌표 (요약 정리)

- **uv 좌표란, 텍스처 이미지 안에서의 상대적인 위치를 나타내는 2D 비율 좌표이다.**
- 즉, **픽셀 단위 절대 좌표가 아니라 0.0~1.0 사이의 비율 값**으로 표현된다. 
  - 3D Mesh 가 있다면 그려질때 각 정점들의 위치를 0~1 사이의 상대좌표로 변환되는데, 그 값이 UV이다. 
  - 절대 픽셀 단위가 아니라, 해상도와 무관하게 “어디쯤”을 가리키는 값입니다.

## 좌표 의미

| 축          | 설명                    | 범위      |
| ----------- | ----------------------- | --------- |
| **u (x축)** | 텍스처의 가로 방향 위치 | 0.0 ~ 1.0 |
| **v (y축)** | 텍스처의 세로 방향 위치 | 0.0 ~ 1.0 |

- `(0.0, 0.0)` → 이미지의 **왼쪽 아래**
- `(1.0, 1.0)` → 이미지의 **오른쪽 위**

## 핵심 개념

- **절대좌표(x,y)** 는 픽셀 단위 (예: 512×512px 중 128,256)
- **UV좌표(u,v)** 는 비율 단위 (예: 0.25, 0.5)
- 따라서 텍스처의 해상도가 달라도 **uv는 항상 동일한 비율 위치**를 가리킨다. 

## Shader 에서의 사용

```glsl
varying vec2 vUv;

void main() {
  gl_FragColor = texture2D(uTexture, vUv);
}
```

→ 각 픽셀(fragment)은 자신의 `vUv` 값(0~1 범위)을 기반으로 텍스처 이미지에서 색상을 샘플링한다. 

## 직관적 비유

- uv는 **지도상의 위도·경도**처럼, “어디쯤인가”를 비율로 표현하는 좌표이다. 
- 해상도가 커져도 위치 비율은 변하지 않는다. 

## 실제 색상 비교

| GLSL 값                    | 실제 화면 색상 (8bit 변환)        |
| -------------------------- | --------------------------------- |
| `vec4(1.0, 0.0, 0.0, 1.0)` | `rgba(255, 0, 0, 255)` → 빨강     |
| `vec4(0.0, 1.0, 0.0, 1.0)` | `rgba(0, 255, 0, 255)` → 초록     |
| `vec4(0.5, 0.5, 0.5, 1.0)` | `rgba(128, 128, 128, 255)` → 회색 |

## 범위를 벗어나면

- **0보다 작으면** 자동으로 **0으로 클램프(clamp)** 된다. 
- **1보다 크면** 자동으로 **1로 클램프** 된다

## 색상과 픽셀 관계

- 색상(vec4) 은 픽셀(fragment) 단계에서 만들어짐
- 그다음 GPU는 이 정점들을 삼각형으로 연결하고,  화면에 그릴 **모든 픽셀(fragment)** 을 계산한다. 
- 예를 들어,  100개의 정점으로 이루어진 모델이 화면의 10,000픽셀을 차지한다면?
  - Fragment Shader는 그 10,000 픽셀 각각에 대해 실행된다. 
  - 즉, `gl_FragColor` 가 10,000번 계산된다. 
- 따라서 “색상(vec4)”의 개수는 **정점 수가 아니라, 실제 그려지는 픽셀 수** 만큼 생긴다. 