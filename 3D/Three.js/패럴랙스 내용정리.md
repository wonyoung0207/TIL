# Parallax (패럴랙스) 정리

---

>

## 패럴랙스란?

- 원래 천문학 용어: 관측 위치가 달라질 때 물체가 상대적으로 다른 위치에 보이는 현상.
- 웹/그래픽/게임에서는 **배경과 전경이 서로 다른 속도로 움직여 깊이감(입체감)을 주는 시각 효과**를 의미.

## 패럴랙스 효과의 종류
1. **Background Parallax**
   - 스크롤할 때 배경이 콘텐츠보다 느리게 움직임.
   - CSS `background-attachment: fixed;` 또는 JS 스크롤 이벤트로 구현.

2. **Element Parallax**
   - 특정 요소(텍스트, 이미지)가 스크롤에 따라 다른 속도로 이동.
   - `window.scrollY`를 기반으로 transform 적용.

3. **3D Parallax (Three.js)**
   - 카메라 시점 이동에 따라 객체들이 서로 다른 깊이감으로 움직임.
   - 마우스, 스크롤 이벤트 등을 사용해서 카메라 또는 오브젝트 위치를 조절.

## Three.js에서 패럴랙스 개념
- **기본 아이디어**: 사용자 입력(마우스/스크롤)을 받아 카메라 위치나 오브젝트 그룹의 위치를 조금씩 보정해주기.
- 가까운 오브젝트는 크게 움직이고, 먼 오브젝트는 작게 움직이도록 → 깊이감 강화.

## 예시 코드 (Three.js + 마우스 패럴랙스)

```js
import * as THREE from 'three'

// 패럴랙스 효과용 변수
let cursor = { x: 0, y: 0 }
window.addEventListener('mousemove', (event) => {
  cursor.x = (event.clientX / window.innerWidth) - 0.5
  cursor.y = (event.clientY / window.innerHeight) - 0.5
})

// 애니메이션 루프
const clock = new THREE.Clock()
function animate() {
  const elapsed = clock.getElapsedTime()

  // 카메라 패럴랙스 효과
  const parallaxX = cursor.x * 0.5   // 값 줄수록 움직임이 작아짐
  const parallaxY = -cursor.y * 0.5
  camera.position.x += (parallaxX - camera.position.x) * 0.05
  camera.position.y += (parallaxY - camera.position.y) * 0.05

  renderer.render(scene, camera)
  requestAnimationFrame(animate)
}
animate()
