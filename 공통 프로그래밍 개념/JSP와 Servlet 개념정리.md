# JSP와 Servlet 개념정리

---

> Spring의 MVC구조를 예로들면 쉽다. 
>
> Controller에서 Servlet을 사용한다. 
>
> View 에서 JSP를 사용한다. 
>
> [참고 사이트1](https://javacpro.tistory.com/43)
>
> [참고 사이트2](https://swk3169.tistory.com/276)

## 웹 어플리케이션 ( Web Application )

### 정의

- 웹 에서 실행되는 응용프로그램을 뜻하며 인터넷을 통한 은행업무, 인터넷쇼핑, 등등 인터넷에서 하는 여러 서비스를 총칭한다.
- 사용자가 필요한 요청(Request)을 하고 서버에서는 이에 해당하는 요청을 수행하고 그리고 요청한 데이터를 응답(Response) 한다.

### 구성요소

1. 웹 브라우저(Web Browser)
   - 클라이언트에서 요청을 하고 전달받은 **페이지를 볼수있는 환경**을 말한다. ( 크롬, IE, Safari, Firefox 등.. )
2. 웹 서버(Web Server)
   - **클라이언트로 부터 요청받아** 서버에 저장된 리소스를 클라이언트 에게 전달한다. 주로 정적컨텐츠롤 담당한다.
3. 웹 어플리케이션 서버 ( Web Application Server )
   - 줄여서 was 라고도 부르며 서버단에서 **필요한 기능을 수행하고 그결과를 웹서버에게 전달**한다.
4. 데이터베이스
   - 서비스에 필요한 데이터를 보관, 갱신 등 관리를 한다.

---

## Servlet 

### 정의

- **Java 코드안에 HTLM 코드를 넣어 동작**하도록 하는 것 
  - 웹 개발을 위해 만든 표준이다. 
  - 웹 페이지를 동적으로 생성하기 위한 **서버측 프로그램** 
- 웹 서버에서 동적인 웹 애플리케이션을 처리하기 위한 **Java 클래스**이다. 
  - Java 코드로 작성되며, 웹 서버에서 요청(request)을 받아 처리하고 응답(response)을 반환하는 역할을 한다. 

- 따라서 JSP가 실행되면 웹 서버에서 Servlet 으로 변환되어 .java 파일이 생성된다. 

### 사용하는 곳

- Data Processing( **Controller** ) 에 사용
  - DB와의 통신, Business Logic 호출, 데이터 읽고 확인하는 작업 등에 유용하다.

---

## JSP ( Java Server Pages )

### 정의

- **HTML 코드에 Java 코드를 넣어** 동작하는 것 
  -  동적 웹 페이지를 생성하는 웹 어플리케이션 도구이다. 
  - 사용자 화면 표시에 주로 사용된다. 
- Servlet를 보완하고 기술을 확장한 스크립트 방식 표준
- JSP는 웹 서버에서 동적인 **웹 페이지를 생성**하기 위한 **서버 사이드 스크립트 언어**이다.
  - HTML 코드에 Java 코드를 포함하고, 웹 서버에서 이를 동적인 웹 페이지로 처리하여 클라이언트에게 HTML로 반환됩니다.

- 따라서 JSP는 **동적인 웹 페이지 제작에 사용되는 스크립트 언어**이다. 

### 사용하는 곳

- Pressentation ( **View** ) 에 사용하기 좋다. 
  - 요청에 대한 결과를 나타내는 HTML 작성에 유용하다. 

### 동작방식

- **JSP가 실행되면 자바 서블릿으로 변환**되며 웹 어플리케이션 서버에서 동작되면서 필요한 기능을 수행하고 생성된 데이터를 웹 페이지와 함께 클라이언트로 응답한다. 
  - 따라서 JSP는 Servlet으로 변환되어 HTML파일로 변경된 후 클라이언트에게 보내진다. 

<img src="./images/jsp동작방식.jpg">

1. 클라이언트가 어떤 동작을 함으로써 서버(JSP Container)에게 hello.jsp 를 요청하였다.
2. JSP 컨테이너가 JSP 파일을 읽는다.
3. JSP 컨테이너가 Generete (변환) 작업을 통해 Servlet ( .java ) 파일을 생성한다.
4. .java 파일은 다시 .class 파일로 컴파일된다.
5. Execute (실행) 을통해 HTML 파일을 생성하여 JSP 컨테이너 에게 전달한다.
6. JSP 는 HTTP 프로토콜을 통해 HTML 페이지를 클라이언트 에게 전달한다.

---

### 정리

- JSP와 Servlet은 Java 기반의 웹 개발 기술로, 웹 애플리케이션을 개발하고 동적인 웹 페이지를 생성하는 데 사용된다 
- **JSP**는 일반적으로 **웹 페이지의 디자인**과 레이아웃에 집중하고, **Servlet**은 웹 애플리케이션의 비즈니스 로직을 처리하는 데 더 적합합니다.
- JSP는 자동으로 Servlet으로 변환되어 실행되므로, 둘은 서로 연관되어 있다. JSP는 브라우저로부터의 요청을 받으면 서블릿으로 변환되어 처리된다. 
- JSP는 웹 디자인과 Java 코드를 혼합하여 웹 페이지를 개발하는 서버 사이드 스크립트 언어이고, Servlet은 Java 코드로 웹 애플리케이션의 로직을 처리하는 Java 클래스이다.