# 자산 처리 정리 

---

>

##  `publicDir` vs `src/assets`

##### `publicDir` (ex: `static/`)

- 빌드 시 **그대로 복사**, 경로/파일명 변함 없음  
- **import 불가**, 코드에서는 `/파일명` 절대 경로로 사용  
- 용도: favicon, robots.txt, 다운로드 파일 등 **원본 유지해야 하는 자산**

##### `src/assets` (또는 코드에서 import 되는 자산)
- 빌드 시 **최적화·압축·해시 처리** → 캐시 관리 유리  
- **import 가능**, 코드에서 경로 자동 치환  
- 용도: 앱 내부 이미지/폰트/미디어 등 **번들링·캐싱 이점 필요한 자산**

##### 비교
| 구분      | publicDir           | src/assets            |
| --------- | ------------------- | --------------------- |
| 빌드 처리 | 원본 그대로 복사    | 최적화 + 해시 처리    |
| import    | 불가                | 가능                  |
| 캐싱      | 어려움              | 해시로 롱 캐시 유리   |
| 대표 용도 | favicon, robots.txt | 컴포넌트 이미지, 폰트 |

##### 선택 가이드
- **원본 그대로 노출**해야 하면 → `publicDir`  
- **앱 내부에서 import/최적화 필요**하면 → `src/assets`

## 사용 가능 옵션

1. **`root`** 
   - 기본값이 현재 프로젝트 루트(`vite.config.ts`가 있는 디렉토리)\ 이다.
   - 대부분의 Vue 3 + Vite 프로젝트는 `src/`에 코드 두고, 루트에 `index.html`이 있기 때문에 따로 `root`를 지정할 필요가 없다. 
2. **`publicDir`** : 
   - 기본값은 `<프로젝트 루트>/public`
   - 따로 설정 안 해주면 거기 있는 정적 파일이 그대로 빌드 결과에 포함된다. 
3. **`outDir`** : 
   - 기본값은 `dist`
   - `build: { outDir: 'dist' }`로 명시와 동일하게 동작

## 예시

```js
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import path from 'path'
import { fileURLToPath } from 'url'

const __dirname = path.dirname(fileURLToPath(import.meta.url))

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      // 필요하다면 modules나 composables 등에 대해서도 추가
      // '~components': path.resolve(__dirname, 'src/components'),
      // '~router': path.resolve(__dirname, 'src/router'),
      '~store': path.resolve(__dirname, 'src/store'),
    }
  },
  server: {
    port: 3000,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  build: {
    outDir: 'dist'
  },
  assetsInclude: ['**/*.exr', '**/*.glb', '**/*.gltf', '**/*.fbx', '**/*.png', '**/*.jpg', '**/*.jpeg', '**/*.svg', '**/*.mp4', '**/*.webm'],
})

```

```vue
<!-- assets 이용 -->
<script setup>
import logoUrl from '@/assets/logo.png' // 빌드시 해시 파일명으로 치환됨
</script>

<template>
  <img :src="logoUrl" alt="logo" />
</template>
```

```vue
<!-- publicDir 이용 -->
<link rel="icon" href="/favicon.ico" />
```
