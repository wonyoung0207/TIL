# IP와 DNS 개념정리 

---

>[참고 사이트1](https://hanamon.kr/dns%EB%9E%80-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%84%A4%EC%9E%84-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B0%9C%EB%85%90%EB%B6%80%ED%84%B0-%EC%9E%91%EB%8F%99-%EB%B0%A9%EC%8B%9D%EA%B9%8C%EC%A7%80/)
>
>[참고 사이트2](https://m.blog.naver.com/kinxtime/220636766370)

## IP 주소 ( Internet Protocol Address) 

### 정의

- 기기 고유의 번호라고 할 수 있다. 
  - 두 기기가 통신할 때 주로 사용된다. 
- 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호
  - IPv4 가 여태까지 많이 사용되었지만, 이제는 기기가 너무많아져 IPv6가 이용되고있다. 
- **외우기 힘들기 떄문에 사람이 이해할 수 있는 Domain 주소를 만들어 DNS 를 통해 IP주소를 찾아주는 순서로 진행된다.** 

### 역할

- 번호(IP 주소) 를 이용하여 발신자를 대신하여 메시지가 전송되고 수신자를 향하여 예정된 목적지로 전달
  - 3계층의 네트워크 계층에서 IP주소를 설정하여 메시지가 어디로 향할지 경로를 설정한다. 

### IP vs IP 주소

- IP 주소를 줄여서 **IP**라고 부르기도 하나IP는 인터넷 규약 자체를 가리키는 말이기 때문에 엄밀하게는 구별해야 한다. IP 와 IP 주소는 다른 개념이다.

---

## DNS ( Domain Name System)

### 출현배경 

- IP 주소는 5036이나 5047, 인터넷에서만 사용되는 전화번호라고 생각할 수 있다. 한편, 이런 번호는 사람이 외우기 어렵기 때문에, **전화번호부와 같은 역할을** 하는 서비스가 필요하다. 
  - DNS가 이런 역할을 하며 이런 서비스를 "도메인 이름 분석" (domain name resolution) 혹은 "이름 분석" (name resolution)이라고 한다
- 호스트의 도메인 이름을 호스트의 네트워크 주소로 바꾸거나 그 반대의 변환을 수행할 수 있도록 하기 위해 개발

### 정의

- 도메인 네임 시스템으로, **사람이 사용하는 주소를 IP 주소로 변환**해주는 역할을 해 두 기기가 통신할 수 있도록 하는 분산형 데이터베이스 구조이다. 
  - 특정 컴퓨터(또는 네트워크로 연결된 임의의 장치)의 주소를 찾기 위해, 사람이 이해하기 쉬운 도메인 이름을 숫자로 된 식별 번호(IP 주소)로 변환
  - www.example.com과 같은 주 컴퓨터의 도메인 이름을 192.168.1.0과 같은 IP 주소로 변환
  - 상위와 하위 개념을 가진 계층구조를 가진 분산형 데이터베이스 구조이다. 

### 구성요소

1. 도메인 네임 스페이스(Domain Name Space) => " **저장** "
   - 도메인 저장을 분산시키는 역할을 한다. 
   - 이 도메인 이름은 이 IP 주소이다”라는 ‘텍스트’를 저장하는 데이터베이스가 필요하고 분산된 데이터가 어디 저장되어 있는지 찾을 프로그램과 해당 IP 주소로 이동할 프로그램(브라우저 등)이 필요하다. 
2. 네임 서버(Name Server) = 권한 있는 DNS 서버 => " **찾기 및 요청 처리 응답** "
   - 해당 도메인 이름의 IP 주소를 찾는다
3. 리졸버(Resolver) = 권한 없는 DNS 서버 => " **정보 전달** "
   - DNS 클라이언트 요청을 네임 서버로 전달하고 찾은 정보를 클라이언트에게 제공하는 기능을 수행한다. 
   - 리졸버는 수많은 네임서버에 접근하여 사용자로부터 요청 받은 도메인의 IP 정보를 조회하는 기능을 수행한다.

### 동작 방법

1. 웹 브라우저에 www.hanamon.kr을 입력한다.
2. 웹 브라우저는 이전에 방문한적 있는지 찾는다.
   - 브라우저 캐시 확인
   - OS 캐시 확인
   - 라우터 캐시 확인
   - ISP 캐시 확인 (Recursive DNS Server)
     - ISP : Internet Service Provider 의 줄임말로, 인터넷 서비스를 제공하는 SKT, KT, LGU+ 등이 있다. 
3. ISP에서 DNS Iterative하게 쿼리를 날린다.
4. ISP는 Authoritative DNS 서버에서 최종적으로 IP 주소를 응답받는다.
5. ISP는 해당 IP 주소를 캐시한다.
6. 웹 브라우저에게 응답한다.