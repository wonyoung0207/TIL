# WebSocket 개념정리 

---

>[참고 사이트1](https://velog.io/@rhdmstj17/%EC%86%8C%EC%BC%93%EA%B3%BC-%EC%9B%B9%EC%86%8C%EC%BC%93-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%A0%95%EB%A6%AC-2)
>
>[참고 사이트2](https://gusrb3164.github.io/web/2021/10/28/websocket-socket/)
>
>[참고 사이트3](https://choo.oopy.io/6bd233ef-79fe-408c-b993-8cf8351460ec)

## WebSocket 

### 정의

1. HTML5에서 소개된 기술로, 웹 브라우저와 서버 간의 양방향 실시간 통신을 제공
2. **HTTP는 실시간 통신을 할 수 없단 문제 해결하기 위해 나옴**
   1. **HTTP는 단방향적 구조**(요청 보내면 응답이 옴)로 통신해서 TCP/IP 프로토콜을 사용하는 소켓처럼 계속 connection이 유지되는 실시간 통신을 할 수 없음
   2. 클라이언트와 서버 간의 통신을 단순화하고, 프로토콜을 자동으로 처리하여 개발자가 더 쉽게 실시간 기능을 구현할 수 있도록 해줌

### WebSocket 과 socket 의 공통점

1. IP, PORT를 통해서 통신한다. 

### WebSocket 과 socket 의 차이점 

1. **동작 계층**
   1. OSI 7계층 기준으로 소켓은 인터넷 프로토콜에 기반하므로 TCP, UDP가 속한 **4계층**에 위치하며 웹 소켓은 TCP에 의존하지만 HTTP에 기반하므로 **7계층**에 위치한다.
2. **데이터 형식** 
   1. TCP에 기반한 소켓 통신은 단순히 바이트 스트림을 통한 데이터 전송이므로 **바이트**로 이루어진 데이터를 다뤄야하지만, 웹소켓 통신은 어플리케이션 계층인 7계층에 기반하기 때문에 **메시지 형식**의 데이터를 다루게 된다.
3. 즉,  “웹 소켓과 소켓은 전혀 다르다” 보다는 “**소켓 통신에 기반하여 웹 소켓은 웹 어플리케이션에 맞게 발전한 형태로 소켓 통신을 한다**” 라고 보면 된다. 
4. 웹에서도 TCP 소켓 통신으로 실시간 통신을 할 수는 있지만, 전송 계층의 **원시 바이트** 대신 애플리케이션 계층을 통해 **메시지**를 보내는 것이 개발 측면에서 더 적합하기 때문에 TCP 소켓통신에 기반하여 웹 소켓을 발전시킨 것이기 때문이다.

### 단점

1. HTML5 이전 기술로 구현된 서비스에서 사용 불가 
   1. 이전기술에서 사용할 수 있도록 도와주는 것이  Soket.io, SockJS 이다. 

### 동작방법

1. 핸드쉐이킹 과정이 발생한다. 
   1. 통신 채널의 변수를 동적으로 설정하는 자동화된 협상과정 