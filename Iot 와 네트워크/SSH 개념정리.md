# SSH 개념정리 

---

>[참고 사이트1](https://ikcoo.tistory.com/246)
>
>[참고 사이트2](https://baked-corn.tistory.com/52)
>
>[참고 사이트3](https://velog.io/@hyeseong-dev/%EB%A6%AC%EB%88%85%EC%8A%A4-ssh%EB%9E%80)
>
>[참고 사이트4](https://hanamon.kr/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-ssh%EB%9E%80/)

## SSH ( Secure Shell )

### 정의

- 네트워크 프로토콜중 하나로 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜이다. 
  - 컴퓨터와 컴퓨터가 인터넷과 같은 Public Network를 통해 서로 통신을 할 때 보안적으로 안전하게 통신을 하기 위해 사용하는 프로토콜
  - 기본**포트 22번**을 사용한다. 
- 따라서 서버에 접속할때 **비밀번호 대신 key를 제출하는 방식**으로 서버에 접속할 수 있다. 
  - 한쌍의 Key를 통해 접속하려는 컴퓨터와 인증과정을 거친다. 

### 사용되는 곳 

- 클라우드 서비스
  - WAS같은 클라우드 서비스에서 제공하는 서버는 기본적으로 원격 접속을 해서 접근하고 사용하게 된다. 
  - 이때 서버 생성시 필수적으로 SSH 보안 과정을 거치게 된다. 
- 깃허브 
  - Github으로 코드를 push할 때 ssh 프로토콜을 사용한다. 
  -  data를 보호하면서 push할수 있다는 장점이 있다. 

### 키 종류

- 보통 공개 키의 경우 .pub, 개인 키의 경우 .pem의 파일 형식을 가진다. 

1. **Public Key** ( 공개 키 )
   - 공개되는 키로 이 키를 통해 메시지를 전송하기 전 암호화 한다. 
2. **Private Key** ( 비공개 키)
   - 공개되지 않는 키로 사용자 또는 로컬 호스트만이 가지고 있는 키이다. 
   - 해당키를 이용해 공개키로 암호화된 메시지를 복호화 할 수 있다. 

### 동작방식 

1. Client에서 공개키와 비공개키를 생성한다. 
2. 서버는 **공개 키**를 받아서, 생성한 랜덤한 값을 Public key로 **암호화** (문제지 생성) 한다.  
3. 암호화된 값을 받은 사용자는 가지고 있는 **개인 키**를 이용해 **복호화**(문제지를 푼다) 한다. 
   - 공개 키와 개인 키는 하나의 커플 관계와도 같기 때문에, 다른 공개 키나 개인 키를 이용해서 정상적으로 복호화할 수 없다. 
   - 오직 키 페어 생성 시 함께 생성된 개인 키와 공개 키만 서로 해석할 수 있다. 
   - 따라서 문제지를 제대로 풀 수 있는것은 Client가 가진 개인키 뿐이다. 
4. 복호화한 값을 다시 서버에 전송한다. 
5. 서버는 사용자로부터 전송받은 값을 **복호화 전의 값이였던 랜덤한 값과 비교**한다. 
   - 만약 비교한 값이 동일하다면 올바른 사용자로 인식하게 된다. 