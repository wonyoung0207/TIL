# 스마트홈과 Matter 개념

---

>스마트싱스 와 스테이션 개념에 대해 정리 
>
>Matter 에 대한 개념 정리 
>
>내가 하고싶은 루틴 설정 목록 
>
>[itsub 잇섭 유튜브](https://www.youtube.com/watch?v=0IY4ductjEw)
>
>[Matter 프로토콜 개념](https://brunch.co.kr/@iotstlabs/226)

## 스마트홈

- 네트워크로 통제하는 집 단위의 통신 환경 
  - Iot플랫폼을 가정용으로 구현하는 것 
- 인터넷 환경을 포함한 **다양한 네트워크 환경**에서 만들어지는 **집의 구성요소 간의 상호작용** 

### 홈 Iot 장벽

- 루틴 등록이 어렵다 
- 호환성에 대한 어려움
  - 구글홈 , 스마트싱스 등 호환되는 허브의 종류가 다르다. 

### 통신종류( 프로토콜 종류 )

#### 1.Wi-Fi & 블루투스 

- 전자 제품이 와이파이나 블루투스로 인터넷에 연결되고 스마트폰의 스마트싱스(삼성)나 ThinQ(LG) 앱을 통해 기기를 컨트롤 하는 방법 
- 장점
  - 별도의 허브 필요 없음
- 단점
  - 계속 전력이 공급되야해서 대부분 어댑터를 동반한다. 
  - 만약 건전지를 사용하더라도 오래버티지 못함

#### 2.Iot 전용 프로토콜

1. **Zigbee**
   - 현재 많은 곳에서 사용중인 프로토콜
   - 자신들만의 고유한 주소체계를 잉용해 통신한다. 
     - 자신 고유의 IP 주소를 사용하지 않는다.  해당 지그비 허브장치의 IP주소를 이용해 통신하게 된다. 
2. **Z-Wave**
   - 현재 거의 사용되지 않는다. 
3. **Thread**
   - Matter에서 선택한 가장좋은 프로토콜이다. 
   - Zigbee방식과 유사하지만 전력과 보안측에서 장점을 가진다. 

- 장점
  - 저전력으로 동작할 수 있다. 
- 단점
  - 해당 기기의 데이터를 해석하고 데이터화하는 **허브가 별도로 필요** 
  - **"기기 - 허브 - 인터넷 클라우드 - 사용자 단말 "** 순으로 진행된다. 
    - 현재는 기기마다 허브가 다 달라서 호환이 어렵다. 
- 따라서 허브를 통해 통신하는 프로토콜을 통일한다면 호환성을 해결할 수 있다. 
  - Matter가 출현한 이유이다.


---

## Matter ( Project CHIP )

>  Matter == Project CHIP

### 출현 배경 

- 2019년 Project CHIP (Connected Home over IP) 을통해 대기업들이 스마트홈 연결에 대한 표준을 만들기 시작했다. 
- IP기반으로 Connected Home을 만들어 보자는 취지로 시작 

### 정의

- IoT 장치를 위한 통합 오픈 소스 연결 표준으로 다양한 생태계의 스마트 기기와 플랫폼이 함께 원활하게 작동할 수 있도록 하는 **스마트홈의 표준** 
- 현재는 **Thread 프로토콜 방식을 체택**해 사용중이다. 

### IP 포로토콜을 기반으로 동작 

- 스마트홈을 구성하는 개별디바이스가 IP주소를 갖는다는 것을 의미  
- 예시 
  - 스마트폰이 집 밖에 있는 경우에도 **스마트폰은 자신에게 할당된 IP 주소**를 바탕으로 **이동통신사 망**을 거쳐 **인터넷 망**을 거쳐 **가정의 와이파이 공유기**를 통해 **램프를 제어**한다. 
- IP를 이용하는 **응용계층**의 표준이다. 
  - 모든 처리를 애플리케이션(응용) 계층에서 진행한다. 
  - 하위 계층(1~6계층) 의 방식들이 달라도 IP통신만 지켜진다면 모든 관리는 응용계층에서 통합해 관리할 수 있다. 

### Local제어 기반

- 이전동작 방식 

  1. 디바이스 센서 동작
  2. 블루투쓰나 와이파이를 통해 Cloud 로 직접 데이터 넘김 
  3. Cloud 에서 데이터 처리 후 명령 하달 
  4. 디바이스에서 설정된 루틴 실행 

  - 해당 방식의 **단점**은 **모든 정보를 Cloud가 볼 수 있다는 것**이다. 
    - 문열림과 같은 민감한 정보를 클라우드 플랫폼들이 모두 알 수 있다.

- **Local 허브 기반** 동작 방식

  1. 디바이스 동작 
  2. Thread 와 Zigbee같은 프로토콜로 허브로 데이터 전송
  3. 허브에서 설정된 루틴 실행 
  4. 루틴 등록되어있는 기기로 명령 하달 

  - 클라우드로 데이터를 넘기지 않고 로컬 기반으로 루틴을 처리 
    - 처리속도 향상 
    - 보안걱정 감소 

### 출현 효과

1. 대기업들이 같은 프로토콜 규격을 사용함으로써 스마트홈 구축에 편리해졌다.
   - **허브에 상관없이 기기들을 제어**할 수 있게됨 
2. Matter 로고가 표기되어 있는 장치들은 서로 다른 브랜드나 지원하는 전송 프로토콜에 관계없이 함께 작동할 수 있다. 
   - Iot 제품들을 생산하는 곳은  Matter를 지원하는 제품들을 개발하여 허브에 제약없이 사용할 수 있도록 제품들의 프로토콜을 통일시키고 있다 .
3. 디바이스를 사다가 전원만 켜면 **플랫폼 앱을 통해** 누구나 **스마트홈 디바이스를 편리하게 사용**할 수 있게 된다. 

### 결론

- **Iot 기기들의 표준을 정의함**으로서 스마트홈 디바이스에 대한 접근성을 높이고 있다. 

---

## 내가 하고싶은 루틴 설정 

1. 센서를 이용해 자동으로 불켜짐 
2. 내가 해당 위치를 벗어났을 떄 불 소등 
3. 특정 시간에 불켜짐
4. 아침기상시 커튼과 불켜짐, 커피 온도 올림, 음악 재생
5. 저녁취침시 취침모드로 전환하고 어느정도 시간 지나면 모든 불 소등  
6. 새벽 기상시 움직이는 동작센서 이용해 화장실 가는길 불 켜짐 
7. 집안의 온도, 습도를 측정해 자동으로 가습기나 보일러 동작 
8. 창문으로 환기시 공기청정기나 에어컨, 난방제품 off 
9. 핸드폰 위치 설정해서 해당 장소 출입하면 누가 들어왔는지 체크 ( 도난 또는 방범 )
10. 

