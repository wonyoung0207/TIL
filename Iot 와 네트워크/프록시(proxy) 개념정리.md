# Proxy 개념정리 

---

>[참고 사이트1](https://engineer-mole.tistory.com/288)

## Proxy ( 프록시 )

### 정의

- 클라이언트와 서버 사이에 존재하며, **중계기로서 대리로 통신을 수행**하는 역할을 한다. 
  - proxy는 "대리"의 의미를 가진다. 
- 따라서 프록시는 네트워크 통신에서 **중계 역할**을 하는 서버나 소프트웨어를 뜻한다. 

### 사용 이유

- IP 보호

  -  클라이언트가 서버에 요청 시 본인의 IP 주소가 노출되는데, **프록시 서버 사용 시 서버측에서 나의 IP가 아닌 프록시 서버의 IP**를 보게 되어 IP 주소를 보호할 수 있다. 

- 접속 우회 

  -  특정 사이트에서 IP를 검사해 한국에서의 접속을 차단하는 경우가 있는데, 이런 경우 프록시 서버를 사용해 접속 시 다른나라에서 접속한 것처럼 우회할 수 있다. 

- 프록시 사용 안했을 경우 동작 방식

  <img src="./images/프록시 사용안함.png" width="400">

### 사용 예시

- 회사 내부 프록시 이용 
  - 회사 내부에서는 일부 웹사이트의 접근을 제한하고, 악성 사이트로부터 보호하기 위해 웹 프록시를 설정한다. 
  - 웹 프록시 설정시 직원이 **웹 사이트에 접근**할 때, **프록시가 해당 요청을 검사**하고 **허용 여부를 결정**하는 구조이다. 
- 즉, 클라이언트가 네트워크를 통해 서버에 접속할 때, 그 중간에서 여러가지 일을 처리할 수 있게 하는것이 프록시의 역할이다. 

### 유형 

1. 포워드 프록시
2. 리버스 프록시 
   - 포워드 프록시와 다르게 Server들이 주로 내부망으로 구성되며 프록시에게만 연결을 허용

### 포워드 프록시 ( Front Proxy )

<img src="./images/포워드 프록시.png" width="400">

- 역할
  - 클라이언트와 서버 사이에서 위치하며, 클라이언트의 요청을 받아서 서버로 전달하는 역할을 합니다.
    - 즉, 하나의 서버로 요청을 전달한다. 
  - 주로 사용자 **인증, 캐싱, 필터링, 방화벽** 등의 보안과 관련된 작업을 위해 사용된다. 
- 장점
  1. 캐시 저장
     - 동일한 요청시 프록시 서버에서 바로 전송 가능 
  2. URL 필터링 
     - 외부의 액세스는 프록시 서버를 경유하므로 사용자 전원의 외부 웹 사이트로의 액세스를 필터링할 수 있다

### 리버스 프록시 ( Reverse Proxy )

<img src="./images/리버스 프록시.png" width="400">

- 역할
  - 클라이언트와 서버 사이에서 위치하며, 클라이언트의 요청을 받아서 하나 이상의 백엔드 서버로 전달하는 역할을 한다. 
    - 즉, 여러 서버로 요청을 전달한다. 
  - 주로 **로드 밸런싱**, SSL 종단 간 암호화, 웹 응용 프로그램 방화벽 등의 성능과 보안과 관련된 작업을 위해 사용된다. 
- 장점
  1. 부담 분산
     - 정적, 동적 컨텐츠를 나눠 메모리 사용을 효율적으로 관리 
  2. 캐시 저장
     - 동일한 요청시 프록시 서버에서 바로 전송 가능 
  3. 보안 
     - 통신시 프록시 서버로 집약되어 해당 프록시 내에서 시큐리티 정책을 설정해 손쉽게 보안을 다룰 수 있다. 

### 프록시 유형 공통점과 차이점

1. 공통점
   - 포워드 프록시와 리버스 프록시 모두 클라이언트와 서버 간의 중개 역할을 하면서, 실제 서버의 위치를 숨기고 보안을 강화하는 기능을 수행한다. 
2. 차이점 
   - 프록시 서버에 접근시 차이가 있다. 
     - 포워드 프록시는 Client가 프록시 Server에 직접 접근이 가능하다. 
     - 리버스 프록시는 Client가 프록시 Server에 직접 접근이 불가능하다. 