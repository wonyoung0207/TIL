# Iot 프로토콜 ( CoAP와 MQTT)

---

> iot 프로토콜 종류 대해 정리한다. 

## Iot 프로토콜 종류

1. **CoAP** (Constrained Application Protocol )
   - 제약이 있는 장치들을 위한 어플리케이션 프로토콜 
2. **MQTT** ( Message Queuing Telemetry Transport )
   - 표준 Iot 프로토콜 

- 해당 프로토콜은 Iot시장을 위한 주요 **경량 어플리케이션 프로토콜**이다. 
- 특징 
  - 메시지 헤더의 사이즈가 HTTP 보다 작음
  - 에러 보정을 위해 간단한 전송 재시도와 같은 가벼운 신뢰성 전략 등을 제공
- 따라서 HTTP프로토콜은 범용 Device ( 데이터와 리소스 많이 요구 ) 에서 사용하고, CoAP,MQTT는 임베디드 Device ( 특정한 일을 하는 것 ) 에 사용된다. 

### 사용이유

- Iot환경에서는 **저비용, 저사양 센서 노드**들이 사용된다. 
  - 이 노드들은 작**은 용량의 메모리** 및 **낮은 처리량**의 프로세서를 가진다. 

---

## CoAP

### 정의

- 전송지연과 **패킷 손실률이 높은 네트워크 환경**에서 **저사양의 하드웨어**로 동작되는 센서 디바이스의 **RESTful 웹 서비스를 지원**하기 위한 **경량 프로토콜**

### 통신 구조

- **Server / Client 구조**로, HTTP와 동일한 구조를 가진다. 
- Client 는 **User(사용자)** 부분을 뜻한다. 
- Server는 Iot device 나 센서같은 **Resource(자원) 을 생성하는 쪽**이다. 

---

### MQTT

### 통신구조

- **Publish / Subscript 구조**로 , 발행자는 자신의 데이터에 해당하는 토픽을 발행하여 브로커에게 전달하고, 브로커는 해당 토픽의 구독을 원하는 구족자에게 전달. 