# Day2

---

> POJO ( DI / IOC , AOP, ASP)
>
> JDBC와 DAO패턴 
>
> MVC 패턴 

## POJO ( Plain Old Java Object )

- Spring의 삼각형으로, **IOC/DI, AOP, PSA** 로 구성된다.
- POJO란 특정 기술에 종속되지 않는 **순수한 자바 객체**를 의미

  - 진정한 POJO란 객체지향적인 원리에 충실하면서, 환경과 기술에 종속되지 않고 필요에 따라 재활용될 수 있는 방식으로 설계된 오브젝트이다
- **Ioc와 DI**
  - 객체 내부에서 다른 객체를 new해서 생성하는 것이 아닌 IOC 컨테이너에 의해 외부에서 객체를 생성해 주입받는다. 


1. IOC / DI
   - IOC란 제어의 역전으로, 프로그램의 흐름을 개발자가 아닌 **프레임워크가 주도**한다. 
   - **DI란 의존성 주입**을 뜻하며, 모듈간의 결합도를 낮춤으로써 **코드 재사용성을 높여** 여러곳에서 사용할 수 있도록 한다.  
   - **객체를 주입 받는다는 것은 외부에서 생성된 객체를 인터페이스를 통해서 넘겨받는 것**
2. AOP 
   - AOP는 **관점 지향 프로그래밍**으로, 기능의 관심사를 **종단(비즈니스 로직)** 과 **횡단(서비스 로직 )** 으로 나눠 종단에 중점을 두고 횡단 관심사는 시스템이 담당하도록 한다. 
3. PSA
   - **서비스의 추상화**로, 환경 변화에 상관없이 일관된 환경을 제공하는것을 뜻한다. 

### 1. DI (Dependency Injection)

- 의존성 주입을 뜻하며 객체간 결합도를 낮추기 위해 사용한다.

  - 객체 안에서 객체 생성시 new() 사용하지 않고 **DI컨테이너에 의해 객체가 생성**된다. 

- 원본은 그대로 두고 **XML(Bean) 문서의 내용만 변경**해서 문서의 내용만 가져오는 것이 주 목적이다. 

  - 외부 파일에 저장해놓으면 컴파일을 하지 않아도 된다는 장점이 있다. 

- 의존성 주입 방법 

  1. 생성자 ( constructor )

     ```java
     <bean id='duke' class="절대경로.클래스명">
         <constructor-arg value="기본형" > // 클래스 생성자를 통해 값이 들어감 
         <constructor-arg ref="참조형" >
     </bean>
     ```

  2. 설정자 ( setter )

     ```java
     <bean id="duck" class="절대경로.클래스명" >
         <property name="이름" value="값">
     ```

#### bean 

- 정의
  - 애플리케이션에 존재하는 객체**( 객체를 뜻함 )**
  - new 라는 키워드를 사용하지 않고 XML파일을 통해 만들 수 있다. 
  - 따라서 bean이란 스프링 IoC 컨테이너가 관리하는 객체 이다. 
- 특징 
  - 스프링 IoC 컨테이너에 등록된 Bean들은 **의존성 관리**가 수월해진다. 
  - 스프링 IoC 컨테이너에 등록된 Bean들은 **싱글톤**의 형태이다


### 2. IOC ( Inversion Of  Control)

- 제어의 역전을 뜻하며 매개변수로 입력된 값으로만 객체를 생성할 수 있다. ( 이전에는 new로 생성할 수 있었음 )
  - 스프링 컨테이너가 객체의 생성을 주도한다. 
- 따라서, **IOC라는 구조적 개념을 통해 만들어진 컨테이너(객체의 묶음)가 데이터를 주입하기 위해 DI를 사용**한다.
  - IOC의 개념을 통해 Spring 컨테이너가 객체를 생성하는데, 이때 객체는 XML파일에 의해 구현된 bean 객체를 이용해 생성된다. 

### 3. AOP

- 관점 지향 프로그래밍으로, 기능의 관심사를 종단과 횡단으로 나눠 개발자가 비즈니스 로직(종단)에 더욱 관점을 두고 개발 할 수 있도록 한다. 
  - 언제 핵심 업무(비즈니스로직)에 어떤 보조업무(서비스 로직) 를 연결시킬지를 생각하는 것
- 따라서 개발에 있어 핵심업무를 개발한 후 , 필요한 보조업무를 연결시키는 형식으로 진행된다. 
- **비즈니스 로직**
  - 핵심 기능을 뜻하는 것으로, 회사마다 고유의 기능들의 개발을 뜻한다. 
- **서비스 로직** 
  - 보안, 트렌젝션 같은 모든 회사에서 공통적으로 필요한 부분 
- 객체지향( OOP )와의 차이점 
  - 객체지향적 구조를 사용하면 **중복된 코드가 많이 발생**하게 된다. 
  - 따라서 AOP를 사용하면 중복코드를 줄이기 위해서 **비슷한내용은 서비스 로직으로 spring framework가 관리**하고 , **개발자가 기업의 핵심적 코드에 집중**할 수 있도록 한다. 

### POJO 예시

- POJO (o) -> 순수한 기본 자바 객체의 형태 

  ```java
  public class UserDTO {
      private String userName
      public String getUserName() {
          return userName;
      }
      public void setUserName(String userName) {
          this.userName = userName;
      }
  }
  ```

- POJO (x) -> WindowAdapter 를 상속하여 특정 기술에 종속되어 의존함 

  ```java
  public class WinExam extends WindowAdapter {
  
      @Override
      public void windowClosing(WindowEvent e) {
          System.exit(0);
      }
  }
  ```

- 등장 이유 

  - 특정 기술과 환경에 종속되어 의존하게 되면, 코드 가독성 뿐만아니라 유지보수, 확장성에도 어려움이 생긴다. 
  - 이러한 객체지향의 장점을 잃어버린 자바를 되살리기 위해 POJO라는 개념이 등장한 것
