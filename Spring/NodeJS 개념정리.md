# Node.js 개념정리 

---

> node.js 에 대해

## Node.js 

### 정의

- 자바스크립트(JavaScript)로 서버 프로그래밍을 할 수 있도록 해주는 플랫폼
  - 다른 언어보다 서버를 실행하는 코드가 짧다. 
  - 웹 서버와 같이 확장성있는 네트워크 프로그램 제작을 위해 고안되었다
  - Web 서버도 아니며, Ralis나 Django와 같은 Web 프레임 워크도 아니다. JavaScript 실행 환경일 뿐이다. 
  
- 간단하게 구글의Chrome V8엔진 위에서 구현된 자바스크립트를 위한 런타임 환경이다

-  **Node.js = Tomcat(서버)+Spring(프레임워크)**

### javascript와 비교

- javascript 는 브라우저에서 작동하는 프로그래밍 언어라고 할 수 있고
- Nodejs 는 javascript가 브라우저에서 동작 할 수 있도록 도와주는 환경이라고 할 수 있다
- **JavaScript**는 Chrome이나 Firefox와 같은 "**브라우저" 위에서 동작하는 프로그래밍 언어**이다. 그에 반해 Python이나 Ruby와 같은 **일반적인 프로그래밍 언어는 보통 "컴퓨터" 위에서 움직인다.**

### npm과의 관계 

-  Node.js에서 사용하고 싶은 라이브러리가 있는 경우 js 파일을 다운로드받아와서 \<script src="xxx.js">\</script>라고 쓰지 않고 npm을 사용하여 설치한다.
-  NodeJS 를 사용하는 이유중 하나가 npm 모듈에 있다. 수많은 npm모듈이 존재해 필요한 모듈을 언제든지 불러와 사용할 수 있기 때문이다. 

### 특징

1. 논 블로킹 ( Non - blocking  I/O )
   - I /O (입출력)가 동작을 하면서 request를 받으면 **바로 다름 처리에 요청**을 보내놓고 **다른 작업을 처리**하다가 먼저 **요청한 작업이 끝나면 이벤트를 받아서 응답**을 보낸다. 
   - 따라서 **Non-blocking I/O는 그냥 완료가 빨리될 수 있는 것부터 처리하게 설계된 런타임이다.**
2. 멀티 프로세싱
   - node.js 는 단일 쓰레드 환경이다그러나 실제 비동기 작업은 멀티 쓰레드로 구현된다.
   - node.js 는 단일이기 때문에 요청들이 모두 같은 스레드에서 실행된다. 클라이언트는 요청들을 하나의 스레드에서 받아드리고 내부적으로는 멀티스레드로 작업이 된다.
   - 동시에 요청이 오더라도 처리가 완료될 때까지 기다리지 않아도 되기 때문에 서버 부하가 적다.
3. 서버구현 
   - 클라이언트 서버사이드 영역을 javasript로 개발 할 수 있다.

### 장점

1. 새로운 언어를 습득하지 않고도 자바스크립트를 활용해 서버기술을 빨리 개발 응용할 수 있다.
2. 개발이 빠르고 쉽다. 서버 설치부터 화면 띄우는 것까지 금방 처리
3. 이벤트 기반 비동기방식이라서 서버 무리가 적다
4. 다양한 패키지 매니저( npm : node Pakage Manager ) 를 기반으로 다양한 모듈(패키지)을 제공하여 효율성이 좋다. 
   - 개발 속도와 효율성이 크게 향상
5. Non-Blocking I/O 와 단일 스레드 이벤트 루트를 통한 처리 성능 향상 

### 단점

1. 이벤트 기반 비동기방식이라 서버단 로직이 복잡한 경우 콜백 함수의 늪에 빠질 수 있다. 
2. java 개발을 했던 방식으로 설계하고 프로그래밍하면 큰 문제가 발생한다. 
3. 단일 쓰레드이기 때문에 하나의 작업 자체가 많이 걸리는 웹서비스에는 어울리지 않는다 
4. 코드가 수행되어야 코드에 에러가 있는지 알 수 있으며, 에러가 날 경우 프로세스가 내려가기 때문에 테스트가 엄청 중요하다 .
5. V8엔진이 아무리 빨라도 C or C++ 로 개발된 서버 어플리케이션보다는 느리다. 

### 사용방법

1. Node.js 를 사용하기 위해 설치

2. 설치가 완료되면 Nodejs를 사용하기 위한 main2.js 파일을 생성

3. JS파일은 javascript 와 동일한 문법으로 작성한다. 

4. 작성 후 cmd를 이용해 파일경로를 입력한다. 

5. 파일 경로에 있는 main.js 파일을 실행시킨다. 

   ```
   node main.js
   ```

### 동기와 비동기

- 동기 ( 멀티 스레드)
  - 하나의 요청이 끝나야 다음 요청을 수행할 수 있다. 
- 비동기 ( 단일 스레드)
  - 하나의 요청이 완료되기 전에 제어권을 다음 요청으로 넘길 수 있다. 
