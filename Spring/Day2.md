# Day2

---

> POJO ( DI / IOC , AOP, ASP)
>
> JDBC와 DAO패턴 
>
> MVC 패턴 

## POJO

- Spring의 삼각형으로, **IOC/DI, AOP, PSA** 로 구성된다.

1. IOC / DI
   - IOC란 제어의 역전으로, 프로그램의 흐름을 개발자가 아닌 **프레임워크가 주도**한다. 
   - **DI란 의존성 주입**을 뜻하며, 모듈간의 결합도를 낮춤으로써 **코드 재사용성을 높여** 여러곳에서 사용할 수 있도록 한다.  
2. AOP 
   - AOP는 **관점 지향 프로그래밍**으로, 기능의 관심사를 **종단(비즈니스 로직)** 과 **횡단(서비스 로직 )** 으로 나눠 종단에 중점을 두고 횡단 관심사는 시스템이 담당하도록 한다. 
3. PSA
   - **서비스의 추상화**로, 환경 변화에 상관없이 일관된 환경을 제공하는것을 뜻한다. 

### 1. DI (Dependency Injection)

- 의존성 주입을 뜻하며 객체간 결합도를 낮추기 위해 사용한다.

  - 객체 생성시 new() 사용하지 않고 **DI컨테이너에 의해 객체가 생성**된다. 

- 원본은 그대로 두고 **XML(Bean) 문서의 내용만 변경**해서 문서의 내용만 가져오는 것이 주 목적이다. 

  - 외부 파일에 저장해놓으면 컴파일을 하지 않아도 된다는 장점이 있다. 

- 의존성 주입 방법 

  1. 생성자 ( constructor )

     ```java
     <bean id='duke' class="절대경로.클래스명">
         <constructor-arg value="기본형" > // 클래스 생성자를 통해 값이 들어감 
         <constructor-arg ref="참조형" >
     </bean>
     ```

  2. 설정자 ( setter )

     ```java
     <bean id="duck" class="절대경로.클래스명" >
         <property name="이름" value="값">
     ```

#### bean 

- 정의
  - 애플리케이션에 존재하는 객체**( 객체를 뜻함 )**
  - new 라는 키워드를 사용하지 않고 XML파일을 통해 만들 수 있다. 

### 2. IOC ( Inversion Of  Control)

- 제어의 역전을 뜻하며 매개변수로 입력된 값으로만 객체를 생성할 수 있다. ( 이전에는 new로 생성할 수 있었음 )
  - 스프링 컨테이너가 객체의 생성을 주도한다. 
- 따라서, **IOC라는 구조적 개념을 통해 만들어진 컨테이너(객체의 묶음)가 데이터를 주입하기 위해 DI를 사용**한다.
  - IOC의 개념을 통해 Spring 컨테이너가 객체를 생성하는데, 이때 객체는 XML파일에 의해 구현된 bean 객체를 이용해 생성된다. 

### 3. AOP

- 관점 지향 프로그래밍으로, 기능의 관심사를 종단과 횡단으로 나눠 개발자가 비즈니스 로직(종단)에 더욱 관점을 두고 개발 할 수 있도록 한다. 
  - 언제 핵심 업무(비즈니스로직)에 어떤 보조업무(서비스 로직) 를 연결시킬지를 생각하는 것
- 따라서 개발에 있어 핵심업무를 개발한 후 , 필요한 보조업무를 연결시키는 형식으로 진행된다. 
- **비즈니스 로직**
  - 핵심 기능을 뜻하는 것으로, 회사마다 고유의 기능들의 개발을 뜻한다. 
- **서비스 로직** 
  - 보안, 트렌젝션 같은 모든 회사에서 공통적으로 필요한 부분 
- 객체지향( OOP )와의 차이점 
  - 객체지향적 구조를 사용하면 **중복된 코드가 많이 발생**하게 된다. 
  - 따라서 AOP를 사용하면 중복코드를 줄이기 위해서 **비슷한내용은 서비스 로직으로 spring framework가 관리**하고 , **개발자가 기업의 핵심적 코드에 집중**할 수 있도록 한다. 

### JDBC ( Java DataBase Connected)

- 데이터베이스에 손쉽게 접속할 수 있도록 구현해놓은 API로, 해당 API를 통해 여러 환경에서 데이터베이스에 손쉽게 접근할 수 있다. 
  - SQL호환성만 유지된다면 DB변경시 JDBC 코드를 재사용할 수 있다. 
- 따라서 **자바에서 DB와 연결하기위해 JDBC를 사용하고 , JDBC는 DAO 패턴에 의해 비즈니스 로직과 데이터 액세스를 분리한다.** 

### DAO ( Data Access Object ) 패턴 

- 공통적인 데이터 접근 작업을 수행하는 패턴으로, 애플리케이션 특화 작업은 사용자가 정의한 DAO 콜백에 의해 처리된다. 
- DAO에게 DB접근의 책임성을 주고, 개발자는 비즈니스 로직만을 담당하게 된다. 

---

## MVC 패턴 

### 정의

- 컴포넌트(요소)의 변경이 다른 영역 컴포넌트에 영향을 미치지 않도록 하는 패턴이다. 
- 컴포넌트간의 결합도를 낮춰 수정에 용이하다. 

### 종류

1. Model : 데이터와 관련된 부분
2. View : 시각적으로 보이는 화면과 관련
3. Controller : 전체적으로 제어하기 위한 제어문법

### 장점

1. 화면과 비즈니스 로직을 분리해서 작업 가능
2. 확장성이 뛰어남
3. 공동작업이 용이하고 유지보수성이 좋음

### 단점

1.  개발 고자어이 복잡해 초기 개발속도가 느림
2. 개발에 많은 지식이 요구됨 

### 흐름

1. 클라이언트가 요청 전송
2. 요청 URL과 매칭되는 컨트롤러 검색
3. 컨트롤러를 찾아서 요청 수행
4. 컨트롤러 실행결과를 Model And View 클래스로 변경해서 전달
5. 컨트롤러 실행결고로 보여줄 View를 검색 
6. 검색한 View를 클라이언트에게 띄워줌 