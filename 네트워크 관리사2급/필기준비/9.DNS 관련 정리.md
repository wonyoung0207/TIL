# [ DNS 관련 개념 ]

## < cat/etc/resolv.conf > 
- **DNS 설정 파일** 내용을 담고 있는 파일(resolve.conf)을 수정(cat). 
- resolv.conf : DNS 서버를 저장하기위한 설정파일

## < round robin > 
- 시분할 기법으로 요청을 교대로 처리, 실행

## < SOA : Start Of Authority > 
- 권한 
- 해당 존 파일의 도메인에 대한 네임서버 인증 정보 
- 해당 존 파일에 대한 **네임서버를 유지하기 위해 필요한 기본적인 자료**가 저장됨 
- 존 파일은 **항상 SOA 로 시작**함 

## < ns.icqa.or.kr > 
- 해당 존 파일의 네임서버를 명시(주 서버)

## < master.icqa.or.kr > 
- 해당 네임서버 관리자 이메일 지정 
- master@icqa.co.kr 과 같은의미

## < Serial Number > 
- 존 파일이 최종 갱신된 data 
- Secondary DNS는 이 값이 Primary DNS 보다 작으면, Primary 로부터 해당 값을 재전송 받는다. 

## < Refresh > 
- 존 파일 변경여부를 검사하는 주기 
- secondary DNS 에서 Primary DNS 까지 검사진행
- 주 서버와 보조 서버의 동기 주기를 설정 

## < Retry > 
- 연결을 재시도 
- Secondary로부터 Primary로 연결되지 않았을 때 사용

## < Expire > 
- 만료시점으로, 지정 시간동안 Primary에 연결못하면 현재 가진 정보가 유효하지 않다고 판단
- 그 결과 도메인에 대한 응답 하지 않음 

## < minimum TTL > 
- 유효기간 설정 
- 다른 네임 서버가 존 파일에 기술된 자료를 가져갔을 경우 사용

## < TTL ( Time To Live ) >
- 해당 DNS 서버의 남은 시간 
- TTL이 길면 DNS 부하가 작아진다. 
- 길면 상위 네임서버에 질의하지 않고 바로 응답

## < DNS 서버의 레코드 Type > 
- 정방향 : 
  - 클라이언트가 DNS 제공하면 IP 주소 정보 제공 
  - A : DNS 이름과 IP주소를 연결.(A 는 IPv4주소와 연결 , AAAA는 IPv6와 연결 ) -> **DNS => IP**

- 역방향 PTR(pointer) : 
  - 클라이언트가 IP주소 를 제공하면 DNS(도메인) 정보 반환 -> **IP => DNS** 

- NS (Name Server) : 
  - 특정 도메인의 **DNS 정보를 관리하는 서버.** 
  - 즉, DNS는 전화번호 리스트 이고, NS는 전화번호 정보 가진 전화국이다. 

- SOA(Start Of Authority) :
  -  **DNS 영역에서 대한 권한 정보**를 가짐. 가장 큰 권한을 부여받은 호스트 정보

- CNAME : 
  - 실제 도메인 이름과 연결되는 **가상 도메인 이름**

- MX : 
  - **도메인의 메일 서버**를 식별해 메일 라우팅 제공


## < 하이퍼브이 : Hyper-V >
- **하드웨어 가상화** 또는 윈도우 서버 가상화 라고 함 
- 즉, 가상 기기들을 이용해 하드웨어 최소화 함 
- 하이퍼바이저 기반의 가상화 시스템 
- 가상 컴퓨터 마법사 등을 통해 메모리 할당, 가상 하드디스크 연결 등을 설정 
- 하드웨어 데이터 실행방지(DEP)가 필요
- 스냅숏 이용해 특정 시점 기록 
- 하나의 서버에서 여러개 가상 컴퓨터 구축가능 



<img src="./images/DNS관리자화면.png" width="700">


1. 일련번호 : 해당 영역 파일의 개정 번호 
2. 주 서버 : 해당 영역 초기에 설정되는 서버 
3. 책임자 : 해당 영역을 관리하는 사람의 전자 메일 주소. @안씀
4. 새로고침 간격 : 보조서버가 주 서버의 변경을 검사하기 전 대기시간 


## < DNS 쿼리 >
- 재귀(Recursive) 와 반복(Iterator)으로 구분됨 
- 재귀 질의 : DNS서버를 차례대로 물어보는 방법. ( kr을 통해 kr의 도메인인 or.kr 을 얻고, or.kr을 통해 icqa.or.kr을 얻는다. ) 
- 반복 질의 : 직접관리하지 않는 DNS인 걍우 해당 DNS를 관리하는 NS 네임 서버를 연결 해주는 방법 