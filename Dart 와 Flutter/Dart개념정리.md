# Dart

---

## 1. 정의

- 다트(Dart)는 구글이 개발한 웹 **프로그래밍 언어**이다. 
- 다트는 **자바스크립트를 대체할만한 오픈 웹 플랫폼**으로서 웹 개발언어를 목표로 개발된다고 밝혔다.
- 모바일 크로스 플랫폼 Flutter를 지원하는 언어로 dart를 사용하게 되며 많은 인기를 끌고있다. 

## 2. 특징

1. Typed언어이지만 ,자유로운 타입지정이 가능하다.  
   - 기본적으로는 Typed언어이다. 
   - JavaScript처럼 변수에 데이터 타입을 지정해주지 않아도 저장된 데이터에 따라 타입이 지정이 된다.
     - Var : type을 지정하지 않아도 dart 에서 알아서 variable의 type이 뭔지 추측을 함. 다른 타입을 재대입 할 수 없음.
2. 제네릭타입 (List\<int>) 을 지원한다. 
   - List\<dynamic> list = [1,2,”3”,4,true] 같은 형식이 가능함.
3. 객체지향 언어
   - dart는 완전한 객체지향 언어
   - 다트에서 모든 것이 객체이기 때문에 함수 또한 객체이다. 
   - 변수가 함수를 참조할 수 있고, 함수의 인자로 함수를 전달받을 수 있다.
   - 변수에 넣을 수 있는 모든 것은 객체이며, 모든 객체는 클래스의 인스턴스로 취급.
4. 싱글 스레드 언어( 비동기 코드를 작성하는 것이 매우 중요 )
5. Optimized for UI  (UI에 최적화)
6. Productive development (생산적인 개발)
7. Fast on all platforms (모든 플랫폼에서 빠른 점)

## 3. 장점

1. JIT, AOT 모두 지원 
   - JIT( Jush In Time ) : 컴파일, 인터프리트 방식을 섞어 놓은 방식으로, 프로그램 실행 중에 컴파일이 가능한 방법
     - 캐싱을 사용하여 자주 사용되는 코드를 어딘가에 저장해두고( 컴파일 언어의 특성 ) 실행시점에 인터프리터 방식인 한 줄씩 읽기를 하면서 실행된다. 
   - AOT (Ahead of Time) : 인터프리터 방식처럼 런타임에 들어서기 전에 모든 컴파일을 완료시키고 프로그램이 동작된다. 
     - 런타임 시 속도가 빠르지만 개발 시에는 무조건 재실행 되기 때문에 개발속도가 느리다. 
   - 개발할때는 **VM + Jit(과 핫리로딩)을 통하여 개발시간을 단축**시켜주고 **배포할 때에는 AOT 컴파일을 통해서 런타임에서 바로 동작하는 코드**를 만들 수 있습니다.
2. 핫 리로딩 기능
   - 보통 실행 시 내용을 변경하면 프로그램을 재실행해야 적용된다. ( Java 의 JVM 을 보면 알 수 있다. )
     - 따라서 실행도중 프로그램을 다시 실행시키지 않아도 변경내용이 적용된다. 
   - VM + JIT 컴파일러를 이용해 실행 중 바뀐 부분만 코드를 다시 리로드할 수 있다. 
3. 네이티브에 필적하는 성능
   - 자신만의 UI 엔진을 가지고 있어 React Native처럼 브릿지를 이용하여 UI를 그리지 않기 때문에 빠르다. 
4. 데드락(기능마비 ) 처리
   - 멀티 쓰레딩에서 Race Condition(경쟁조건) 이 발생하며 이를 막기 위해 Lock을 걸면 Dead Lock 상태에 빠져 앱이 구동을 멈추는 버그가 발생할 수 있다. 
   - Dart는 isolate라고 불리는 단일 쓰레드를 사용하여 해결
     - isolate : 고유의 Event Loop와 메모리(private heap)를 가진 쓰레드
5. 메모리 할당 해지 
   - 힙 공간에 메모리를 할당(인스턴스를 생성)하게 되면 당연하게도 해지를 해줘야 한다.
   - 자바의 가비지 컬렉터와 같이 Dart에서는  **Young Space Scavenger와 Parallel mark-sweep collector**를 사용해 메모리 할당 해지가 일어난다. 

