# Video 태그 개념정리 

---

>[buffering, seeking, time range 개념](https://developer.mozilla.org/en-US/docs/Web/Media/Audio_and_video_delivery/buffering_seeking_time_ranges)
>
>[미디어 태그 doc](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement)

```js
<video 
  id="video_left" 
  ref="standardVideo"  
  type="video/mp4" 
  playsinline 
  muted 
  controls 
  :src="videoSrc1" 
  @canplay="onVideoCanplay($event)" 
  @progress="onProgress" 
  @waiting="onWaiting"
  @playing="onPlaying"
  class="cctvVideo full-width" 
/>
```

| 이벤트        | 발생 시점                                                   | 의미                                                         | 사용 목적                                                    |
| ------------- | ----------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| `@loadeddata` | 비디오의 **첫 번째 프레임이 로드**되었을 때                 | 비디오의 첫 프레임이 준비되었으며, 비디오의 일부를 화면에 표시할 수 있음. 그러나 재생 가능 여부는 불확실 | 비디오의 첫 프레임을 로드하는 시점을 확인할 때               |
| `@canplay`    | **중단 없이 재생**할 수 있을 만큼의 데이터가 로드되었을 때  | 비디오가 현재 위치에서부터 **끊김 없이 재생**될 준비가 완료됨 | 비디오가 실제로 재생 가능한 시점을 확인할 때 ( 여러 동영상을 같은 시점에서 재생할 때 유용) |
| `@waiting`    | 비디오가 **추가 데이터를 로드**하기 위해 멈추는 경우에 발생 | 비디오가 네트워크 속도 또는 데이터 부족으로 멈추고 버퍼링 중임 | 사용자가 비디오가 버퍼링 중임을 알 수 있도록 처리            |
| `@progress`   | 비디오의 **데이터를 다운로드**할 때마다 발생                | 비디오의 데이터가 네트워크를 통해 버퍼링되며, 일부 데이터가 로드됨 | 비디오의 버퍼링 진행 상황을 모니터링하고, 현재 로드된 범위를 확인 |
| `@playing`    | **비디오 재생**시 발생                                      | 비디오가 버퍼링 없이 재생되고 있음                           | 비디오 재생이 시작되었거나 재개되었음을 알리고, 관련 처리를 수행 |
| `@seeking`    | 비디오 재생 위치가 변경되기 시작할 때 발생                  |                                                              |                                                              |
| `@seeked`     | 재생 위치가 변경되고 나서 완료되었을 때 발생                |                                                              |                                                              |

### readyState 속성

1. 비디오 요소의 현재 **준비 상태**를 나타내는 속성이다. 
2. 이 속성의 값은 0부터 4까지의 값으로 표현된다. 
   1. `0` : `HAVE_NOTHING` - 아무 데이터도 로드되지 않은 상태.
   2. `1` : `HAVE_METADATA` - 메타데이터만 로드된 상태.
   3. `2` : `HAVE_CURRENT_DATA` - 재생 가능한 첫 프레임의 데이터가 준비된 상태.
   4. `3` : `HAVE_FUTURE_DATA` - 최소한 다음 프레임을 로드하여 중단 없이 재생 가능한 상태.
   5. `4` : `HAVE_ENOUGH_DATA` - 동영상의 남은 부분까지 중단 없이 재생 가능한 충분한 데이터를 가진 상태.

### Media Buffering (미디어 버퍼링)

1. **버퍼링**은 비디오 재생 중에 데이터가 미리 로드되는 과정이다. 
2. 비디오가 원활하게 재생되려면, 미리 일정량의 비디오 데이터가 로드되어 있어야 합니다. 
3. 네트워크 속도가 느리거나 데이터가 충분히 로드되지 않으면 비디오 재생 중에 일시정지가 발생할 수 있습니다.

### Seeking (시킹)

1. **시킹**은 비디오 재생 중에 사용자가 비디오의 특정 시간으로 이동하는 과정을 의미한다. 
2. 사용자는 슬라이더를 조작하거나 특정 시간을 입력하여 비디오의 다른 부분으로 점프할 수 있다. 
3. 이 과정에서 비디오 플레이어는 새로운 시간에 해당하는 비디오 데이터를 로드한다. 

### Time Ranges (시간 범위)

1. 비디오가 로드된 특정 구간의 데이터
2. 버퍼링 및 시킹과 밀접한 관련이 있어 `video.buffered` 프로퍼티를 사용하여 비디오에서 어떤 시간이 버퍼링되어 있는지를 확인할 수 있다.  